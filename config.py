# ── チューニング ──────────────────────────────────────────────
MAX_WORKERS  = 3
CHUNK_SIZE   = 40
SLEEP_SEC    = 15
RETRY_WAIT   = 30

# ── データ取得 ────────────────────────────────────────────────
PERIOD     = "2d"
OUTPUT_DIR = "output"

JPX_MASTER_URL = (
    "https://www.jpx.co.jp/markets/statistics-equities/misc/"
    "tvdivq0000001vg2-att/data_j.xls"
)

MARKET_MAP = {
    "プライム":     "プライム（内国株式）",
    "スタンダード": "スタンダード（内国株式）",
    "グロース":     "グロース（内国株式）",
}

# ── 指標列名（fetcher / app で共通参照） ─────────────────────
CHG_COL = "変動率(%)"

# ── ソートプリセット定義 ──────────────────────────────────────
# (表示名, ソート列, 昇順フラグ, 説明文)
SORT_PRESETS = [
    ("🔺 上昇率ランキング",            "変動率(%)",   False, "当日の上昇率が高い銘柄"),
    ("🔻 下落率ランキング",            "変動率(%)",   True,  "当日の下落率が大きい銘柄"),
    ("⚡ セクター内で突出して強い",     "vsセクター",  False, "セクター平均を最も上回った銘柄"),
    ("🎯 高値圏で引けた銘柄",          "レンジ位置",  False, "当日高値圏で引けた（続伸候補）"),
    ("📉 安値圏で引けた銘柄",          "レンジ位置",  True,  "当日安値圏で引けた（売り継続候補）"),
    ("🕯️ 上ヒゲが長い銘柄",           "上ヒゲ比",    False, "高値から押し戻された（売り圧力）"),
    ("🌊 値動きが大きかった銘柄",      "振れ幅(%)",   False, "当日ボラティリティが高い銘柄"),
    ("💰 売買代金ランキング",          "売買代金(百万円)", False, "最も商いが集まった銘柄"),
    ("📊 VWAP上抜けで引けた銘柄",      "終値/VWAP",   False, "終値がVWAPを上回った（強い引け）"),
    ("📊 VWAP割れで引けた銘柄",        "終値/VWAP",   True,  "終値がVWAPを下回った（弱い引け）"),
    ("💹 出来高が多い銘柄",            "Volume",      False, "商いが最も集まった銘柄"),
]
